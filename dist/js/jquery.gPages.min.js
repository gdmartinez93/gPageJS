!function(a){function e(e,d){o=e.clone(),e.addClass("gPages"),e.html(""),console.log("lanza constructor"),s(d,function(){var s=e.find(".gPaginator"),r=o.find(d.item).length,p=Math.ceil(r/d.itemsPerPage),c=o.find(d.item).clone();if(n(s,p,d,c),i(s,p,d),t(),""!=d.classContainerPage&&e.find(".gPage").addClass(d.classContainerPage),window.location.hash){var g=Number(window.location.hash.split("page-")[1]);e.find(".gPage").eq(g-1).addClass("active"),s.children(".page").removeClass("active").eq(s.children('.page[data-page="'+g+'"]').index()-1).addClass("active"),1==g?s.find(".page_prev").addClass("disabled"):g==p&&s.find(".page_next").addClass("disabled")}else e.find(".gPage").removeClass("active").first().addClass("active"),s.children(".page").removeClass("active").first().addClass("active"),s.find(".page_prev").addClass("disabled");s.children(".page").first().hasClass("active")&&s.find(".page_prev").addClass("disabled"),s.children(".page").last().hasClass("active")&&s.find(".page_next").addClass("disabled"),s.children(':not(".page")').on("click",function(e){if(a(this).hasClass("disabled"))return!1;e.preventDefault(),e.stopPropagation();var i=s.find(".page.active");if(a(this).hasClass("page_prev")){if(!i.prev().hasClass("page"))return!1;l(null,i.prev())}else{if(!i.next().hasClass("page"))return!1;l(null,i.next())}}),s.children(".page").on("click",l)})}function s(e,s){c.append(a('<ul class="gPaginator"></ul>'));var i=c.find(".gPaginator");""==e.prevSrc||""==e.nextSrc?(i.append('<li class="page_prev"><a href="#">'+e.prevText+"</a></li>"),i.append('<li class="page_next"><a href="#">'+e.nextText+"</a></li>")):(i.append('<li class="page_prev"><a href="#"><img src="'+e.prevSrc+'"  alt="prev"/></a></li>'),i.append('<li class="page_next"><a href="#"><img src="'+e.nextSrc+'"  alt="next"/></a></li>')),i.attr("min-pages",e.pagesPrevView),i.attr("max-pages",e.pagesNextView),s()}function i(e,s,i){for(var n=0;n<s;n++){var t=0,d=0,r="";if(window.location.hash){var l=Number(window.location.hash.split("page-")[1]);t=l-i.pagesPrevView>=1?l-i.pagesPrevView:1,d=l+i.pagesNextView<s?l+i.pagesNextView:s}else t=1,d=i.pagesNextView;r=n+1>=t&&n+1<=d?"":"disabled",a('<li class="page '+r+'" data-page="'+(n+1)+'"><a href="#page-'+(n+1)+'">'+(n+1)+"</a></li>").insertBefore(e.children().last())}}function n(e,s,i,n){for(var t=0;t<s;t++)if(a('<div class="gPage"></div>').insertBefore(e),t+1==s)c.find(".gPage").last().append(n);else{var d=0,r=i.itemsPerPage,l=n.splice(d,r);c.find(".gPage").last().append(l)}}function t(){if(c.find(".gPages__loader").length>0)return!1;a('<div class="gPages__loader"></div>').insertBefore(c.children().first());var e=c.find(".gPages__loader");switch(g.loader){case"circle":e.append('<span class="circle loader_default"><span class="left"><span class="anim"></span></span><span class="right"><span class="anim"></span></span></span>');break;case"round":e.append('<span class="round loader_default"><span class="left"><span class="anim"></span></span><span class="right"><span class="anim"></span></span></span>');break;case"balls":e.append('<div class="balls"></div>');break;case"dots":e.append('<div class="dots"><div class="dots__dot dot_1"></div><div class="dots__dot dot_2"></div><div class="dots__dot dot_3"></div><div class="dots__dot dot_4"></div></div>');break;case"rspin":e.append('<div class="rspin"><span class="rspin__indicator"></span><span class="rspin__spinner"><span class="elem"></span></span> <span class="rspin__bar bar_1"></span><span class="rspin__bar bar_2"></span><span class="rspin__bar bar_3"></span><span class="rspin__bar bar_4"></span></div>');break;case"metro_spin":e.append('<div class="metro_spin"><div class="metro_spin__circle"></div><div class="metro_spin__circle"></div><div class="metro_spin__circle"></div><div class="metro_spin__circle"></div><div class="metro_spin__circle"></div></div>');break;default:e.append('<img src="'+g.loader+'" />')}}function d(){var a=c.find(".gPages__loader");return a.length>0&&(c.find(".gPage.active").fadeOut(function(){c.find(".gPage.active").removeClass("active").removeAttr("style")}),void setTimeout(function(){a.addClass("active")},400))}function r(){var e=c.find(".gPages__loader");if(!(e.length>0))return!1;e.removeClass("active");var s=c.find(".gPaginator"),i=s.children(".page.active").attr("data-page");i=Number(i),a(".gPage").eq(i-1).addClass("active")}function l(e,s){var i;void 0!=s?i=s:(e.preventDefault(),e.stopPropagation(),i=a(this)),i.hasClass("active")||(g.pageChange(),d(),setTimeout(function(){r(),c.find(".gPage").eq(i.index()-1).addClass("active");var e=c.find(".gPage.active"),s=c.find(".gPaginator .page").eq(e.index()-1);c.find(".gPaginator .page").removeClass("active"),s.addClass("active");var n=c.find(".gPaginator .active");n.next().hasClass("page_next")?(c.find(".gPaginator .page_next").addClass("disabled"),c.find(".gPaginator .page_prev").removeClass("disabled")):n.prev().hasClass("page_prev")?(c.find(".gPaginator .page_prev").addClass("disabled"),c.find(".gPaginator .page_next").removeClass("disabled")):c.find(".gPaginator .page_prev").add(c.find(".gPaginator .page_next")).removeClass("disabled"),a.each(c.find(".gPaginator .page"),function(e,s){a(this).removeClass("disabled");var i=0,t=0,d=Number(a(this).parent().attr("min-pages")),r=Number(a(this).parent().attr("max-pages")),l=n.index();i=l-d>=1?l-d:1,t=l+r<c.find(".gPaginator .page").length?l+r:c.find(".gPaginator .page").length,e+1>=i&&e+1<=t||a(this).addClass("disabled")}),window.location.hash=i.children().attr("href")},2e3))}function p(e,s){var i=e,n=[],t=0;a.each(i.find(".gPage"),function(e,s){t+=a(this).children().length;for(var e=0;e<a(this).children().length;e++){var i=a(this).children().eq(e).clone();n.push(i)}});var d=setInterval(function(){n.length==t&&(i.html(""),a.each(n,function(e,t){i.append(a(this)),e+1&&n.length&&"function"==typeof s&&s()}),window.location.hash="",clearInterval(d))},300)}var c,g,o;a.fn.extend({gPages:function(s){if(void 0==s)return!1;if(a.isPlainObject(s)||"update"==s){var i="update"==s;if("update"!=s){var n={item:"",itemsPerPage:10,classContainerPage:"",prevText:"back",nextText:"next",prevSrc:"",nextSrc:"",loader:"ring",pagesPrevView:5,pagesNextView:5,pageChange:function(){}};s=a.extend(n,s),g=s}else s=g;return this.each(function(){!i&&a(this).hasClass("gPages")||(c=a(this),e(c,s))})}"show_loader"==s?d():"hide_loader"==s?r():"destroy"==s&&p(this)}})}(jQuery);